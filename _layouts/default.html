<!DOCTYPE html>
<html lang="en">
<head>
	{%- include head.html -%}
</head>
<body>
	{{ content }}

	<script>
		if ('serviceWorker' in navigator) {
		    window.addEventListener('load', function() {
		        navigator.serviceWorker.register('/sw.js').then(function(registration) {
		            // Registration was successful
		            console.log('ServiceWorker registration successful with scope: ', registration.scope);
		        }, function(err) {
		            // registration failed :(
		            console.log('ServiceWorker registration failed: ', err);
		        });
		    });
		}
	</script>

	{%- if site.plainwhite.analytics_id -%}
	<script async src="https://www.googletagmanager.com/gtag/js?id={{ site.plainwhite.analytics_id }}"></script>
	<script>
		window.dataLayer = window.dataLayer || [];
		function gtag() { dataLayer.push(arguments); }
		gtag('js', new Date());

		gtag('config', '{{ site.plainwhite.analytics_id }}');
	</script>
	{%- endif -%}
</body>
</html>
